(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a(56)},41:function(e,t,a){},42:function(e,t,a){},45:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a(13),i=a(9),s=(a(41),a(6)),l=a(7),u=a(10),p=a(8),m=a(11),d=a(14),y=(a(42),a(2)),h=a(23),f=a.n(h),b=a(28),E=(a(45),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){e.preventDefault();var t=e.currentTarget.getAttribute("id");a.props.chooseHistory(t)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.map(function(t){return r.a.createElement(o.b,{to:"/",key:t.id,data:t,onClick:e.handleClick,value:t.city,id:t.id},t.city)});return r.a.createElement("div",{className:"app__history history"},t)}}]),t}(n.Component)),O=function(e){return{type:"CHOOSE_HISTORY",payload:e}},_=function(){return{type:"RESET_HISTORY",payload:""}},C=Object(i.b)(function(e){return{data:e.city}},function(e){return{chooseHistory:Object(y.bindActionCreators)(O,e)}})(E),j=(a(51),function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmitForm=function(e){e.preventDefault(),a.props.resetHistory(),a.getWeatherData()},a.handleChangeCityName=function(e){a.props.changeCityName(e.target.value)},a.getWeatherData=Object(b.a)(f.a.mark(function e(){var t,n,r,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,3,"b7a955a0c43d4bc482261947191104",t="https://api.apixu.com/v1/forecast.json?key=".concat("b7a955a0c43d4bc482261947191104","&q=").concat(a.props.enteredCityName,"&days=").concat(3),e.next=6,fetch(t);case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,c={id:Date.now(),city:r.location.name,country:r.location.country,condition:r.current.condition.text,conditionIcon:r.current.condition.icon,temp:r.current.temp_c,forecastDay:r.forecast.forecastday,error:!1},a.props.fetchData(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),a.props.fetchData({error:!0});case 17:case"end":return e.stop()}},e,null,[[0,14]])})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{action:"",className:"app__form",onSubmit:this.handleSubmitForm},r.a.createElement("input",{type:"text",className:"app__search",placeholder:"Enter City Name",value:this.props.enteredCityName,onChange:this.handleChangeCityName}),r.a.createElement("button",{className:this.props.enteredCityName?"app__submit":"app__submit app__submit-inactive",disabled:!this.props.enteredCityName},"Get Forecast"),r.a.createElement(C,null))}}]),t}(n.Component)),v=function(e){return{type:"CHANGED_CITY_NAME",payload:e}},N=function(e){return{type:"FETCHED_DATA",payload:e}},g=Object(i.b)(function(e){return{enteredCityName:e.enteredCityName,city:e.city}},function(e){return{changeCityName:Object(y.bindActionCreators)(v,e),fetchData:Object(y.bindActionCreators)(N,e),resetHistory:Object(y.bindActionCreators)(_,e)}})(j),w=(a(52),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.historyCityId,t=this.props.data.filter(function(t){return t.id===+e}),a=t.length?t[0]:this.props.data[this.props.data.length-1];return r.a.createElement(r.a.Fragment,null,this.props.error?r.a.createElement("p",{className:"app__error"},"Incorrect City Name :("):a&&r.a.createElement("div",{className:"app__weather weather"},r.a.createElement("h1",{className:"weather__title"},"Current weather in ",a.city),r.a.createElement("p",null,r.a.createElement("img",{src:"".concat(a.conditionIcon),alt:"".concat(a.condition)})),r.a.createElement("p",null,a.condition),r.a.createElement("p",{className:"weather__condition"},a.temp,"\u2103"),r.a.createElement(o.b,{to:"/details",className:"weather__forecast"},"Get Forecast for 3 days")))}}]),t}(r.a.Component)),k=Object(i.b)(function(e){return{data:e.city,historyCityId:e.historyCityId,error:e.error}},function(e){return{resetHistory:Object(y.bindActionCreators)(_,e)}})(w),I=(a(53),function(e){return r.a.createElement("div",{className:"day"},r.a.createElement("p",{className:"day__date"},e.data.date),r.a.createElement("p",null,r.a.createElement("img",{src:"".concat(e.data.day.condition.icon),alt:"".concat(e.data.day.condition.text)})),r.a.createElement("p",null,e.data.day.condition.text),r.a.createElement("p",null,"Min temp: ",e.data.day.mintemp_c,"\u2103"),r.a.createElement("p",null,"Max temp: ",e.data.day.maxtemp_c,"\u2103"))}),D=(a(54),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.historyCityId,t=this.props.data.filter(function(t){return t.id===+e}),a=t.length?t[0]:this.props.data[this.props.data.length-1],n=a.forecastDay.map(function(e,t){return r.a.createElement(I,{data:e,key:t})});return r.a.createElement("div",{className:"forecast"},r.a.createElement("h1",{className:"forecast__title"},"Weather Forecast for ",a.city),r.a.createElement("div",{className:"forecast__days"},n),r.a.createElement(o.b,{to:"/",className:"forecast__link-back"},"Back"))}}]),t}(n.Component)),A=Object(i.b)(function(e){return{data:e.city,historyCityId:e.historyCityId}})(D),H=function(){return r.a.createElement("div",{className:"day"},r.a.createElement("p",null,"Sorry, page not found :("))},x=(a(55),function(){return r.a.createElement("div",{className:"app__logo logo"},"Weather Forecast",r.a.createElement("div",{className:"logo__icons"},r.a.createElement("i",{className:"fas fa-cloud"}),r.a.createElement("i",{className:"fas fa-bolt"}),r.a.createElement("i",{className:"fas fa-sun"})))}),T=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app__inner"},r.a.createElement(x,null),r.a.createElement("div",{className:"app__content"},r.a.createElement(d.a,{path:"/",component:g,exact:!0}),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",component:k,exact:!0}),r.a.createElement(d.a,{path:"/details",component:A}),r.a.createElement(d.a,{component:H})))))}}]),t}(n.Component),S=a(30),F=a(31),W=a(16),R={enteredCityName:"",city:[],historyCityId:"",error:!1},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGED_CITY_NAME":return Object(W.a)({},e,{enteredCityName:t.payload});case"FETCHED_DATA":if(t.payload.error)return Object(W.a)({},e,{error:t.payload.error});var a=null;return e.city.length<4?a=[].concat(Object(F.a)(e.city),[t.payload]):(a=e.city.slice(1)).push(t.payload),Object(W.a)({},e,{city:a,error:!1});case"CHOOSE_HISTORY":return Object(W.a)({},e,{historyCityId:t.payload,error:!1});case"RESET_HISTORY":return Object(W.a)({},e,{historyCityId:t.payload});default:return e}},G=Object(y.createStore)(Y,Object(S.composeWithDevTools)());Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(c.render)(r.a.createElement(o.a,{basename:"/weather_forecast"},r.a.createElement(i.a,{store:G},r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.0d06c769.chunk.js.map